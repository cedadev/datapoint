<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CEDA DataPoint - Basic Usage &mdash; CEDA DataPoint 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=2389946f"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DataPoint’s Cloud Product Handler" href="cloud_formats.html" />
    <link rel="prev" title="Inspiration for DataPoint" href="inspiration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            CEDA DataPoint
              <img src="_static/ceda.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Details:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="inspiration.html">Inspiration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to Use DataPoint</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-info">General Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-and-search">Client and Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-dataset-access-example">Simple dataset access example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-about-searches">More about Searches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clustering-datasets">Clustering Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-datasets-cloud-products">Getting Datasets - Cloud Products</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cloud_formats.html">DataPoint's Cloud Product Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">DataPoint Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="mappers.html">Mappings for Non-CEDA STAC Catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">When to Use DataPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="stac.html">STAC Catalogs Explained</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core_client.html">Client and Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_item.html">STAC Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="core_cloud.html">Clusters and Cloud Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixins.html">Mixins</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CEDA DataPoint</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CEDA DataPoint - Basic Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ceda-datapoint-basic-usage">
<h1>CEDA DataPoint - Basic Usage<a class="headerlink" href="#ceda-datapoint-basic-usage" title="Permalink to this heading"></a></h1>
<p>This page/notebook demonstrates some basic usage and functionality for
CEDA’s DataPoint package, installable with
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ceda-datapoint</span></code>. To begin we can import the datapoint
module and start using the search client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ceda_datapoint</span> <span class="kn">import</span> <span class="n">DataPointClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">DataPointClient</span><span class="p">(</span><span class="n">org</span><span class="o">=</span><span class="s1">&#39;CEDA&#39;</span><span class="p">,</span> <span class="n">hash_token</span><span class="o">=</span><span class="s1">&#39;lonestar&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The hash token and organisation are optional parameters. By default the
organisation will be CEDA and the hash token will be auto-generated to
help the user keep track of <code class="docutils literal notranslate"><span class="pre">client</span></code>, <code class="docutils literal notranslate"><span class="pre">search</span></code> and <code class="docutils literal notranslate"><span class="pre">item</span></code> objects
and which are their parent objects. All objects contain a few basic
methods, like <code class="docutils literal notranslate"><span class="pre">help</span></code> and <code class="docutils literal notranslate"><span class="pre">info</span></code> to get the set of public methods and
some info about the object respectively.</p>
<section id="general-info">
<h2>General Info<a class="headerlink" href="#general-info" title="Permalink to this heading"></a></h2>
<p>All <code class="docutils literal notranslate"><span class="pre">DataPoint</span></code> objects have some standard methods for retrieving
information, like the <code class="docutils literal notranslate"><span class="pre">.help()</span></code> and <code class="docutils literal notranslate"><span class="pre">.info()</span></code> methods below. They’re
also all designed for use with a Jupyter notebook, in the way that they
will display information when listed at the end of a cell. See below for
example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DataPointClient contains a __repr__ method which enables us to do the below:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span>
<span class="go">&lt;DataPointClient: CEDA-333146&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
</pre></div>
</div>
</section>
<section id="client-and-search">
<h2>Client and Search<a class="headerlink" href="#client-and-search" title="Permalink to this heading"></a></h2>
<p>As stated above, the client and other objects contain <code class="docutils literal notranslate"><span class="pre">help</span></code> and
<code class="docutils literal notranslate"><span class="pre">info</span></code> methods to print some basic information that might be helpful.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
<span class="go">&lt;DataPointClient: CEDA-333146&gt;</span>
<span class="go"> - Client for DataPoint searches via https://api.stac.ceda.ac.uk</span>
<span class="go">DataPointClient Help:</span>
<span class="go"> &gt; client.info() - Get information about this client.</span>
<span class="go"> &gt; client.list_query_terms() - List of queryable terms for a specific collection</span>
<span class="go"> &gt; client.display_query_terms() - Prints query terms to the terminal.</span>
<span class="go"> &gt; client.list_collections() - Get list of all collections known to this client.</span>
<span class="go"> &gt; client.display_collections() - Print collections and their descriptions</span>
<span class="go"> &gt; client.search() - perform a search operation. For example syntax see the documentation.</span>
<span class="go">Properties:  id, meta, collection</span>
<span class="go">See the documentation at https://cedadev.github.io/datapoint/</span>
</pre></div>
</div>
<p>For the client, we can also get a list of the collections known to the
client under the STAC API, and the queryable terms for each of those
collections. Alternatively these can be displayed by substituting
<code class="docutils literal notranslate"><span class="pre">list</span></code> for <code class="docutils literal notranslate"><span class="pre">display</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">list_collections</span><span class="p">()</span>
<span class="go">[&#39;cci&#39;,</span>
<span class="go"> &#39;cmip6&#39;,</span>
<span class="go"> &#39;cordex&#39;,</span>
<span class="go"> &#39;eocis-sst-cdrv3&#39;,</span>
<span class="go"> &#39;eocis-sst-cdrv3-climatology&#39;,</span>
<span class="go"> &#39;land_cover&#39;,</span>
<span class="go"> &#39;sentinel1&#39;,</span>
<span class="go"> &#39;sentinel2_ard&#39;,</span>
<span class="go"> &#39;ukcp&#39;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">list_query_terms</span><span class="p">(</span><span class="n">collection</span><span class="o">=</span><span class="s1">&#39;cmip6&#39;</span><span class="p">)</span>
<span class="go">[&#39;datetime&#39;,</span>
<span class="go"> &#39;start_datetime&#39;,</span>
<span class="go"> &#39;end_datetime&#39;,</span>
<span class="go"> &#39;access&#39;,</span>
<span class="go"> &#39;index_node&#39;,</span>
<span class="go"> &#39;latest&#39;,</span>
<span class="go"> &#39;pid&#39;,</span>
<span class="go"> &#39;replica&#39;,</span>
<span class="go"> &#39;retracted&#39;,</span>
<span class="go"> &#39;instance_id&#39;,</span>
<span class="go"> &#39;citation_url&#39;,</span>
<span class="go"> &#39;variable_long_name&#39;,</span>
<span class="go"> &#39;variable_units&#39;,</span>
<span class="go"> &#39;cf_standard_name&#39;,</span>
<span class="go"> &#39;activity_id&#39;,</span>
<span class="go"> &#39;data_specs_version&#39;,</span>
<span class="go"> &#39;experiment_title&#39;,</span>
<span class="go"> &#39;frequency&#39;,</span>
<span class="go"> &#39;further_info_url&#39;,</span>
<span class="go"> &#39;grid&#39;,</span>
<span class="go"> &#39;grid_label&#39;,</span>
<span class="go"> &#39;institution_id&#39;,</span>
<span class="go"> &#39;mip_era&#39;,</span>
<span class="go"> &#39;source_id&#39;,</span>
<span class="go"> &#39;source_type&#39;,</span>
<span class="go"> &#39;experiment_id&#39;,</span>
<span class="go"> &#39;sub_experiment_id&#39;,</span>
<span class="go"> &#39;nominal_resolution&#39;,</span>
<span class="go"> &#39;table_id&#39;,</span>
<span class="go"> &#39;variable_id&#39;,</span>
<span class="go"> &#39;variant_label&#39;,</span>
<span class="go"> &#39;levels&#39;,</span>
<span class="go"> &#39;updated&#39;,</span>
<span class="go"> &#39;created&#39;]</span>
</pre></div>
</div>
<p>Now we have some basic information about the collections and their
search terms, we can try searching for some data.</p>
</section>
<section id="simple-dataset-access-example">
<h2>Simple dataset access example<a class="headerlink" href="#simple-dataset-access-example" title="Permalink to this heading"></a></h2>
<p>Here we present a very basic search across the <code class="docutils literal notranslate"><span class="pre">cmip6</span></code> STAC collection
which returns 10 items, from which we can pull a specific dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cmip6&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">query</span><span class="o">=</span><span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;experiment_id=ssp585&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;activity_id=ScenarioMIP&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s1">&#39;institution_id=KIOST&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">max_items</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span>
<span class="go">&lt;DataPointSearch: CEDA-333146-139631 ({&#39;collections&#39;: [&#39;cmip6&#39;], &#39;max_items&#39;: 10, &#39;query&#39;: 3})&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
</pre></div>
</div>
<p>From our search we can collect the cloud assets into a <code class="docutils literal notranslate"><span class="pre">cluster</span></code>,
index the cluster to get a specific cloud product, then open that cloud
product into an xarray dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Collect the cloud products from this search into a single cluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">search_basic</span><span class="o">.</span><span class="n">collect_cloud_assets</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># Index the cluster to find the 3rd product (Note: you can also use the ID)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note: Here we have used a specific item which is known to exist.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">&lt;xarray.Dataset&gt; Size: 76MB</span>
<span class="go">Dimensions:    (lat: 96, bnds: 2, lon: 192, time: 1032)</span>
<span class="go">Coordinates:</span>
<span class="go">  * lat        (lat) float64 768B -90.0 -88.11 -86.21 ... 86.21 88.11 90.0</span>
<span class="go">  * lon        (lon) float64 2kB 0.9375 2.812 4.688 6.563 ... 355.3 357.2 359.1</span>
<span class="go">  * time       (time) object 8kB 2015-01-17 12:00:00 ... 2100-12-17 12:00:00</span>
<span class="go">Dimensions without coordinates: bnds</span>
<span class="go">Data variables:</span>
<span class="go">    lat_bnds   (lat, bnds) float64 2kB dask.array&lt;chunksize=(96, 2), meta=np.ndarray&gt;</span>
<span class="go">    lon_bnds   (lon, bnds) float64 3kB dask.array&lt;chunksize=(192, 2), meta=np.ndarray&gt;</span>
<span class="go">    time_bnds  (time, bnds) object 17kB dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;</span>
<span class="go">    vas        (time, lat, lon) float32 76MB dask.array&lt;chunksize=(1, 96, 192), meta=np.ndarray&gt;</span>
<span class="go">Attributes: (12/47)</span>
<span class="go">    Conventions:            CF-1.7 CMIP-6.2</span>
<span class="go">    activity_id:            ScenarioMIP</span>
<span class="go">    branch_method:          standard</span>
<span class="go">    branch_time_in_child:   60266.0</span>
<span class="go">    branch_time_in_parent:  60266.0</span>
<span class="go">    cmor_version:           3.5.0</span>
<span class="go">    ...                     ...</span>
<span class="go">    table_id:               Amon</span>
<span class="go">    table_info:             Creation Date:(30 April 2019) MD5:cc2ae51c23960ce...</span>
<span class="go">    title:                  KIOST-ESM output prepared for CMIP6</span>
<span class="go">    tracking_id:            hdl:21.14100/7640f386-9b1b-4803-a489-ab4f524b9eba</span>
<span class="go">    variable_id:            vas</span>
<span class="go">    variant_label:          r1i1p1f1</span>
</pre></div>
</div>
<p>Alternatively we can open the dataset directly from the search if we
already know the ID of the specific dataset.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">search_basic</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go">&lt;xarray.Dataset&gt; Size: 76MB</span>
<span class="go">Dimensions:    (lat: 96, bnds: 2, lon: 192, time: 1032)</span>
<span class="go">Coordinates:</span>
<span class="go">  * lat        (lat) float64 768B -90.0 -88.11 -86.21 ... 86.21 88.11 90.0</span>
<span class="go">  * lon        (lon) float64 2kB 0.9375 2.812 4.688 6.563 ... 355.3 357.2 359.1</span>
<span class="go">  * time       (time) object 8kB 2015-01-17 12:00:00 ... 2100-12-17 12:00:00</span>
<span class="go">Dimensions without coordinates: bnds</span>
<span class="go">Data variables:</span>
<span class="go">    lat_bnds   (lat, bnds) float64 2kB dask.array&lt;chunksize=(96, 2), meta=np.ndarray&gt;</span>
<span class="go">    lon_bnds   (lon, bnds) float64 3kB dask.array&lt;chunksize=(192, 2), meta=np.ndarray&gt;</span>
<span class="go">    time_bnds  (time, bnds) object 17kB dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;</span>
<span class="go">    vas        (time, lat, lon) float32 76MB dask.array&lt;chunksize=(1, 96, 192), meta=np.ndarray&gt;</span>
<span class="go">Attributes: (12/47)</span>
<span class="go">    Conventions:            CF-1.7 CMIP-6.2</span>
<span class="go">    activity_id:            ScenarioMIP</span>
<span class="go">    branch_method:          standard</span>
<span class="go">    branch_time_in_child:   60266.0</span>
<span class="go">    branch_time_in_parent:  60266.0</span>
<span class="go">    cmor_version:           3.5.0</span>
<span class="go">    ...                     ...</span>
<span class="go">    table_id:               Amon</span>
<span class="go">    table_info:             Creation Date:(30 April 2019) MD5:cc2ae51c23960ce...</span>
<span class="go">    title:                  KIOST-ESM output prepared for CMIP6</span>
<span class="go">    tracking_id:            hdl:21.14100/7640f386-9b1b-4803-a489-ab4f524b9eba</span>
<span class="go">    variable_id:            vas</span>
<span class="go">    variant_label:          r1i1p1f1</span>
</pre></div>
</div>
</section>
<section id="more-about-searches">
<h2>More about Searches<a class="headerlink" href="#more-about-searches" title="Permalink to this heading"></a></h2>
<p>Note: The <code class="docutils literal notranslate"><span class="pre">id</span></code> for this search object contains the parent id of the
client (in this case <code class="docutils literal notranslate"><span class="pre">333146</span></code>) plus an additional 6-digit code for
this search. Child objects of this search will contain both sets of
6-digit ids, plus another one for the child. We can also see the
searched terms in the representation of this object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span>
<span class="go">&lt;DataPointSearch: CEDA-333146-139631 ({&#39;collections&#39;: [&#39;cmip6&#39;], &#39;max_items&#39;: 10, &#39;query&#39;: 3})&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - products: 10</span>
</pre></div>
</div>
<p>We can again use the standard methods to get some insight into this
object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
<span class="go">&lt;DataPointSearch: CEDA-333146-139631 ({&#39;collections&#39;: [&#39;cmip6&#39;], &#39;max_items&#39;: 10, &#39;query&#39;: 3})&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - products: 10</span>
<span class="go">DataPointSearch Help:</span>
<span class="go"> &gt; search.info() - General information about this search</span>
<span class="go"> &gt; search.collect_cloud_assets() - Collect the cloud products into a `cluster`</span>
<span class="go"> &gt; search.display_assets() - List the names of assets for each item in this search</span>
<span class="go"> &gt; search.display_cloud_assets() - List the cloud format types for each item in this search</span>
<span class="go">Properties:  id, meta, collection, items, assets</span>
<span class="go">See the documentation at https://cedadev.github.io/datapoint/</span>
</pre></div>
</div>
<p>We can try some of these public methods listed via the <code class="docutils literal notranslate"><span class="pre">help</span></code> method
for this search.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span><span class="o">.</span><span class="n">display_assets</span><span class="p">()</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.tas.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.sfcWind.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsus.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsds.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlus.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlds.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.psl.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.prsn.gr1.v20210928 (Collection: cmip6)&gt;</span>
<span class="go"> - reference_file, data0001</span>
</pre></div>
</div>
<p>Note: The above assets are listed with names as they appear in the STAC
assets list. This does not showcase which assets represent cloud
datasets which can be opened via DataPoint. To see the datasets we can
access, you can use the <code class="docutils literal notranslate"><span class="pre">display_cloud_assets</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span><span class="o">.</span><span class="n">display_cloud_assets</span><span class="p">()</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.tas.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.sfcWind.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsus.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsds.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlus.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlds.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.psl.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
<span class="go">&lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.prsn.gr1.v20210928 (Collection: cmip6)&gt;</span>
<span class="go"> - kerchunk</span>
</pre></div>
</div>
<p>So from the above, we can see the 10 items returned by this search all
contain a <code class="docutils literal notranslate"><span class="pre">kerchunk</span></code> asset which is one we can use to open the set of
data for the item.</p>
<p>We can get a dictionary of <code class="docutils literal notranslate"><span class="pre">DataPointItems</span></code> represented by this search
from the <code class="docutils literal notranslate"><span class="pre">items</span></code> property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search_basic</span><span class="o">.</span><span class="n">items</span>
<span class="go">{&#39;CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106&#39;: &lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106 (Collection: cmip6)&gt;</span>
<span class="go">  - url: https://api.stac.ceda.ac.uk</span>
<span class="go">  - organisation: CEDA</span>
<span class="go">  - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go">  - collection: cmip6</span>
<span class="go">  - item: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go">  - assets: 2</span>
<span class="go">  - cloud_assets: 1</span>
<span class="go">  - attributes: 34</span>
<span class="go">  - stac_attributes: 8</span>
<span class="go"> Properties:</span>
<span class="go">  - datetime: 2058-01-01T12:00:00Z</span>
<span class="go">  - start_datetime: 2015-01-17T12:00:00Z</span>
<span class="go">  - end_datetime: 2100-12-17T12:00:00Z</span>
<span class="go">  - access: [&#39;HTTPServer&#39;]</span>
<span class="go">  - index_node: None</span>
<span class="go">  - latest: True</span>
<span class="go">  - pid: None</span>
<span class="go">  - replica: False</span>
<span class="go">  - retracted: False</span>
<span class="go">  - instance_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go">  - citation_url: http://cera-www.dkrz.de/WDCC/meta/CMIP6/CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106.json</span>
<span class="go">  - variable_long_name: Northward Near-Surface Wind</span>
<span class="go">  - variable_units: m s-1</span>
<span class="go">  - cf_standard_name: northward_wind</span>
<span class="go">  - activity_id: ScenarioMIP</span>
<span class="go">  - data_specs_version: 01.00.30</span>
<span class="go">  - experiment_title: update of RCP8.5 based on SSP5</span>
<span class="go">  - frequency: mon</span>
<span class="go">  - further_info_url: https://furtherinfo.es-doc.org/CMIP6.KIOST.KIOST-ESM.ssp585.none.r1i1p1f1</span>
<span class="go">  - grid: atmos data regridded from Cubed-sphere (c48) to 94X192</span>
<span class="go">  - grid_label: gr1</span>
<span class="go">  - institution_id: KIOST</span>
<span class="go">  - mip_era: CMIP6</span>
<span class="go">  - source_id: KIOST-ESM</span>
<span class="go">  - source_type: AGCM</span>
<span class="go">  - experiment_id: ssp585</span>
<span class="go">  - sub_experiment_id: none</span>
<span class="go">  - nominal_resolution: 250 km</span>
<span class="go">  - table_id: Amon</span>
<span class="go">  - variable_id: vas</span>
<span class="go">  - variant_label: r1i1p1f1</span>
<span class="go">  - levels: None</span>
<span class="go">  - updated: 2024-02-20T22:14:50.735178Z</span>
<span class="go">  - created: 2024-02-20T22:14:50.735178Z,</span>
<span class="go"> &#39;CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319&#39;: &lt;DataPointItem: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319 (Collection: cmip6)&gt;</span>
<span class="go">  - url: https://api.stac.ceda.ac.uk</span>
<span class="go">  - organisation: CEDA</span>
<span class="go">  - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go">  - collection: cmip6</span>
<span class="go">  - item: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319</span>
<span class="go">...}</span>
</pre></div>
</div>
</section>
<section id="clustering-datasets">
<h2>Clustering Datasets<a class="headerlink" href="#clustering-datasets" title="Permalink to this heading"></a></h2>
<p>We can also specifically select the datasets which can be opened into
something called a <code class="docutils literal notranslate"><span class="pre">DataPointCluster</span></code> which is just a grouping of
datasets which are linked in some way (e.g having the same
<code class="docutils literal notranslate"><span class="pre">institution_id</span></code>.) This grouping is entirely arbitrary and is only
used in place of a list of datasets, enabling lazy loading of as many
datasets as is needed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">search_basic</span><span class="o">.</span><span class="n">collect_cloud_assets</span><span class="p">()</span>
</pre></div>
</div>
<p>The warning displayed here indicates that one of the items did not have
a dataset that could be opened. This cluster contains the recipes to
open all the cloud datasets of different types.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
<span class="go">&lt;DataPointCluster: CEDA-333146-139631-409864 (Datasets: 10)&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - products: 10</span>
<span class="go">Products:</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.tas.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.sfcWind.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsus.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsds.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlus.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlds.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.psl.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.prsn.gr1.v20210928-reference_file: kerchunk</span>
<span class="go">DataPointCluster Help:</span>
<span class="go"> &gt; cluster.info() - basic cluster information</span>
<span class="go"> &gt; cluster.open_dataset(index/id) - open a specific dataset in xarray</span>
<span class="go">Properties:  id, meta, collection, products</span>
<span class="go">See the documentation at https://cedadev.github.io/datapoint/</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Again the cluster has a representation that effectively just calls the `info` method.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span>
<span class="go">&lt;DataPointCluster: CEDA-333146-139631-409864 (Datasets: 10)&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - products: 10</span>
<span class="go">Products:</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.uas.gr1.v20210319-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.tas.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.sfcWind.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsus.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rsds.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlus.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.rlds.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.psl.gr1.v20191106-reference_file: kerchunk</span>
<span class="go"> - CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.prsn.gr1.v20210928-reference_file: kerchunk</span>
</pre></div>
</div>
<p>We can obtain the set of <code class="docutils literal notranslate"><span class="pre">DataPointCloudProducts</span></code> contained within
this cluster from the <code class="docutils literal notranslate"><span class="pre">products</span></code> property, similar to <code class="docutils literal notranslate"><span class="pre">items</span></code> in the
search object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">products</span>
<span class="go">[&lt;DataPointCloudProduct: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file (Format: kerchunk)&gt;</span>
<span class="go">  - url: https://api.stac.ceda.ac.uk</span>
<span class="go">  - organisation: CEDA</span>
<span class="go">  - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go">  - collection: cmip6</span>
<span class="go">  - item: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go">  - assets: 2</span>
<span class="go">  - cloud_assets: 1</span>
<span class="go">  - attributes: 34</span>
<span class="go">  - stac_attributes: 8</span>
<span class="go">  - asset_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file</span>
<span class="go">  - cloud_format: kerchunk</span>
<span class="go"> Attributes:</span>
<span class="go">  - datetime: 2058-01-01T12:00:00Z</span>
<span class="go">  - start_datetime: 2015-01-17T12:00:00Z</span>
<span class="go">  - end_datetime: 2100-12-17T12:00:00Z</span>
<span class="go">  - access: [&#39;HTTPServer&#39;]</span>
<span class="go">  - index_node: None</span>
<span class="go">  - latest: True</span>
<span class="go">  - pid: None</span>
<span class="go">  - replica: False</span>
<span class="go">  - retracted: False</span>
<span class="go">  - instance_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go">  - citation_url: http://cera-www.dkrz.de/WDCC/meta/CMIP6/CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106.json</span>
<span class="go">  - variable_long_name: Northward Near-Surface Wind</span>
<span class="go">  - variable_units: m s-1</span>
<span class="go">  - cf_standard_name: northward_wind</span>
<span class="go">  - activity_id: ScenarioMIP</span>
<span class="go">  - data_specs_version: 01.00.30</span>
<span class="go">  - experiment_title: update of RCP8.5 based on SSP5</span>
<span class="go">  - frequency: mon</span>
<span class="go">  - further_info_url: https://furtherinfo.es-doc.org/CMIP6.KIOST.KIOST-ESM.ssp585.none.r1i1p1f1</span>
<span class="go">  - grid: atmos data regridded from Cubed-sphere (c48) to 94X192</span>
<span class="go">  - grid_label: gr1</span>
<span class="go">  - institution_id: KIOST</span>
<span class="go">  - mip_era: CMIP6</span>
<span class="go">  - source_id: KIOST-ESM</span>
<span class="go">  - source_type: AGCM</span>
<span class="go">  - experiment_id: ssp585</span>
<span class="go">  - sub_experiment_id: none</span>
<span class="go">  - nominal_resolution: 250 km</span>
<span class="go">  - table_id: Amon</span>
<span class="go">  - variable_id: vas</span>
<span class="go">  - variant_label: r1i1p1f1</span>
<span class="go">  - levels: None</span>
<span class="go">  - updated: 2024-02-20T22:14:50.735178Z</span>
<span class="go">  - created: 2024-02-20T22:14:50.735178Z,</span>
<span class="go">...]</span>
</pre></div>
</div>
</section>
<section id="getting-datasets-cloud-products">
<h2>Getting Datasets - Cloud Products<a class="headerlink" href="#getting-datasets-cloud-products" title="Permalink to this heading"></a></h2>
<p>We can select a specific <code class="docutils literal notranslate"><span class="pre">CloudProduct</span></code> from the cluster simply by
indexing the cluster, or selecting the ID (which can be seen from the
representation above):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cloud1</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="s1">&#39;CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cloud1</span>
<span class="go">&lt;DataPointCloudProduct: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file (Format: kerchunk)&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - collection: cmip6</span>
<span class="go"> - item: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go"> - assets: 2</span>
<span class="go"> - cloud_assets: 1</span>
<span class="go"> - attributes: 34</span>
<span class="go"> - stac_attributes: 8</span>
<span class="go"> - asset_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file</span>
<span class="go"> - cloud_format: kerchunk</span>
<span class="go">Attributes:</span>
<span class="go"> - datetime: 2058-01-01T12:00:00Z</span>
<span class="go"> - start_datetime: 2015-01-17T12:00:00Z</span>
<span class="go"> - end_datetime: 2100-12-17T12:00:00Z</span>
<span class="go"> - access: [&#39;HTTPServer&#39;]</span>
<span class="go"> - index_node: None</span>
<span class="go"> - latest: True</span>
<span class="go"> - pid: None</span>
<span class="go"> - replica: False</span>
<span class="go"> - retracted: False</span>
<span class="go"> - instance_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go"> - citation_url: http://cera-www.dkrz.de/WDCC/meta/CMIP6/CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106.json</span>
<span class="go"> - variable_long_name: Northward Near-Surface Wind</span>
<span class="go"> - variable_units: m s-1</span>
<span class="go"> - cf_standard_name: northward_wind</span>
<span class="go"> - activity_id: ScenarioMIP</span>
<span class="go"> - data_specs_version: 01.00.30</span>
<span class="go"> - experiment_title: update of RCP8.5 based on SSP5</span>
<span class="go"> - frequency: mon</span>
<span class="go"> - further_info_url: https://furtherinfo.es-doc.org/CMIP6.KIOST.KIOST-ESM.ssp585.none.r1i1p1f1</span>
<span class="go"> - grid: atmos data regridded from Cubed-sphere (c48) to 94X192</span>
<span class="go"> - grid_label: gr1</span>
<span class="go"> - institution_id: KIOST</span>
<span class="go"> - mip_era: CMIP6</span>
<span class="go"> - source_id: KIOST-ESM</span>
<span class="go"> - source_type: AGCM</span>
<span class="go"> - experiment_id: ssp585</span>
<span class="go"> - sub_experiment_id: none</span>
<span class="go"> - nominal_resolution: 250 km</span>
<span class="go"> - table_id: Amon</span>
<span class="go"> - variable_id: vas</span>
<span class="go"> - variant_label: r1i1p1f1</span>
<span class="go"> - levels: None</span>
<span class="go"> - updated: 2024-02-20T22:14:50.735178Z</span>
<span class="go"> - created: 2024-02-20T22:14:50.735178Z</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CloudProduct</span></code> object wraps a single dataset meaning we don’t have
to load the data file into xarray until needed. We can get some
information from the STAC index about this product from this object,
including all the attributes belonging to the parent Item.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cloud1</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cloud1</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
<span class="go">&lt;DataPointCloudProduct: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file (Format: kerchunk)&gt;</span>
<span class="go"> - url: https://api.stac.ceda.ac.uk</span>
<span class="go"> - organisation: CEDA</span>
<span class="go"> - search_terms: {&#39;collections&#39;: [&#39;cmip6&#39;], &#39;query&#39;: [&#39;experiment_id=ssp585&#39;, &#39;activity_id=ScenarioMIP&#39;, &#39;institution_id=KIOST&#39;], &#39;max_items&#39;: 10}</span>
<span class="go"> - collection: cmip6</span>
<span class="go"> - item: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go"> - assets: 2</span>
<span class="go"> - cloud_assets: 1</span>
<span class="go"> - attributes: 34</span>
<span class="go"> - stac_attributes: 8</span>
<span class="go"> - asset_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106-reference_file</span>
<span class="go"> - cloud_format: kerchunk</span>
<span class="go">Attributes:</span>
<span class="go"> - datetime: 2058-01-01T12:00:00Z</span>
<span class="go"> - start_datetime: 2015-01-17T12:00:00Z</span>
<span class="go"> - end_datetime: 2100-12-17T12:00:00Z</span>
<span class="go"> - access: [&#39;HTTPServer&#39;]</span>
<span class="go"> - index_node: None</span>
<span class="go"> - latest: True</span>
<span class="go"> - pid: None</span>
<span class="go"> - replica: False</span>
<span class="go"> - retracted: False</span>
<span class="go"> - instance_id: CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106</span>
<span class="go"> - citation_url: http://cera-www.dkrz.de/WDCC/meta/CMIP6/CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106.json</span>
<span class="go"> - variable_long_name: Northward Near-Surface Wind</span>
<span class="go"> - variable_units: m s-1</span>
<span class="go"> - cf_standard_name: northward_wind</span>
<span class="go"> - activity_id: ScenarioMIP</span>
<span class="go"> - data_specs_version: 01.00.30</span>
<span class="go"> - experiment_title: update of RCP8.5 based on SSP5</span>
<span class="go"> - frequency: mon</span>
<span class="go"> - further_info_url: https://furtherinfo.es-doc.org/CMIP6.KIOST.KIOST-ESM.ssp585.none.r1i1p1f1</span>
<span class="go"> - grid: atmos data regridded from Cubed-sphere (c48) to 94X192</span>
<span class="go"> - grid_label: gr1</span>
<span class="go"> - institution_id: KIOST</span>
<span class="go"> - mip_era: CMIP6</span>
<span class="go"> - source_id: KIOST-ESM</span>
<span class="go"> - source_type: AGCM</span>
<span class="go"> - experiment_id: ssp585</span>
<span class="go"> - sub_experiment_id: none</span>
<span class="go"> - nominal_resolution: 250 km</span>
<span class="go"> - table_id: Amon</span>
<span class="go"> - variable_id: vas</span>
<span class="go"> - variant_label: r1i1p1f1</span>
<span class="go"> - levels: None</span>
<span class="go"> - updated: 2024-02-20T22:14:50.735178Z</span>
<span class="go"> - created: 2024-02-20T22:14:50.735178Z</span>
<span class="go">DataPointCloudProduct Help:</span>
<span class="go"> &gt; product.info() - Get information about this cloud product.</span>
<span class="go"> &gt; product.open_dataset() - Open the dataset for this cloud product (in xarray)</span>
<span class="go">Properties:  id, meta, collection, href, cloud_format, bbox, start_datetime, end_datetime, attributes, stac_attributes, variables, units</span>
<span class="go">See the documentation at https://cedadev.github.io/datapoint/</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cloud1</span><span class="o">.</span><span class="n">attributes</span>
<span class="go">{&#39;datetime&#39;: &#39;2058-01-01T12:00:00Z&#39;,</span>
<span class="go"> &#39;start_datetime&#39;: &#39;2015-01-17T12:00:00Z&#39;,</span>
<span class="go"> &#39;end_datetime&#39;: &#39;2100-12-17T12:00:00Z&#39;,</span>
<span class="go"> &#39;access&#39;: [&#39;HTTPServer&#39;],</span>
<span class="go"> &#39;index_node&#39;: None,</span>
<span class="go"> &#39;latest&#39;: True,</span>
<span class="go"> &#39;pid&#39;: None,</span>
<span class="go"> &#39;replica&#39;: False,</span>
<span class="go"> &#39;retracted&#39;: False,</span>
<span class="go"> &#39;instance_id&#39;: &#39;CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106&#39;,</span>
<span class="go"> &#39;citation_url&#39;: &#39;http://cera-www.dkrz.de/WDCC/meta/CMIP6/CMIP6.ScenarioMIP.KIOST.KIOST-ESM.ssp585.r1i1p1f1.Amon.vas.gr1.v20191106.json&#39;,</span>
<span class="go"> &#39;variable_long_name&#39;: &#39;Northward Near-Surface Wind&#39;,</span>
<span class="go"> &#39;variable_units&#39;: &#39;m s-1&#39;,</span>
<span class="go"> &#39;cf_standard_name&#39;: &#39;northward_wind&#39;,</span>
<span class="go"> &#39;activity_id&#39;: &#39;ScenarioMIP&#39;,</span>
<span class="go"> &#39;data_specs_version&#39;: &#39;01.00.30&#39;,</span>
<span class="go"> &#39;experiment_title&#39;: &#39;update of RCP8.5 based on SSP5&#39;,</span>
<span class="go"> &#39;frequency&#39;: &#39;mon&#39;,</span>
<span class="go"> &#39;further_info_url&#39;: &#39;https://furtherinfo.es-doc.org/CMIP6.KIOST.KIOST-ESM.ssp585.none.r1i1p1f1&#39;,</span>
<span class="go"> &#39;grid&#39;: &#39;atmos data regridded from Cubed-sphere (c48) to 94X192&#39;,</span>
<span class="go"> &#39;grid_label&#39;: &#39;gr1&#39;,</span>
<span class="go"> &#39;institution_id&#39;: &#39;KIOST&#39;,</span>
<span class="go"> &#39;mip_era&#39;: &#39;CMIP6&#39;,</span>
<span class="go"> &#39;source_id&#39;: &#39;KIOST-ESM&#39;,</span>
<span class="go"> &#39;source_type&#39;: &#39;AGCM&#39;,</span>
<span class="go"> &#39;experiment_id&#39;: &#39;ssp585&#39;,</span>
<span class="go"> &#39;sub_experiment_id&#39;: &#39;none&#39;,</span>
<span class="go"> &#39;nominal_resolution&#39;: &#39;250 km&#39;,</span>
<span class="go"> &#39;table_id&#39;: &#39;Amon&#39;,</span>
<span class="go"> &#39;variable_id&#39;: &#39;vas&#39;,</span>
<span class="go"> &#39;variant_label&#39;: &#39;r1i1p1f1&#39;,</span>
<span class="go"> &#39;levels&#39;: None,</span>
<span class="go"> &#39;updated&#39;: &#39;2024-02-20T22:14:50.735178Z&#39;,</span>
<span class="go"> &#39;created&#39;: &#39;2024-02-20T22:14:50.735178Z&#39;}</span>
</pre></div>
</div>
<p>We can now use the <code class="docutils literal notranslate"><span class="pre">open_dataset</span></code> method of this cloud product to
obtain an Xarray representation of the data. In the future it will be
possible to get a cf-python representation instead, but this is not yet
implemented.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">cloud1</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go">&lt;xarray.Dataset&gt; Size: 76MB</span>
<span class="go">Dimensions:    (lat: 96, bnds: 2, lon: 192, time: 1032)</span>
<span class="go">Coordinates:</span>
<span class="go">  * lat        (lat) float64 768B -90.0 -88.11 -86.21 ... 86.21 88.11 90.0</span>
<span class="go">  * lon        (lon) float64 2kB 0.9375 2.812 4.688 6.563 ... 355.3 357.2 359.1</span>
<span class="go">  * time       (time) object 8kB 2015-01-17 12:00:00 ... 2100-12-17 12:00:00</span>
<span class="go">Dimensions without coordinates: bnds</span>
<span class="go">Data variables:</span>
<span class="go">    lat_bnds   (lat, bnds) float64 2kB dask.array&lt;chunksize=(96, 2), meta=np.ndarray&gt;</span>
<span class="go">    lon_bnds   (lon, bnds) float64 3kB dask.array&lt;chunksize=(192, 2), meta=np.ndarray&gt;</span>
<span class="go">    time_bnds  (time, bnds) object 17kB dask.array&lt;chunksize=(1, 2), meta=np.ndarray&gt;</span>
<span class="go">    vas        (time, lat, lon) float32 76MB dask.array&lt;chunksize=(1, 96, 192), meta=np.ndarray&gt;</span>
<span class="go">Attributes: (12/47)</span>
<span class="go">    Conventions:            CF-1.7 CMIP-6.2</span>
<span class="go">    activity_id:            ScenarioMIP</span>
<span class="go">    branch_method:          standard</span>
<span class="go">    branch_time_in_child:   60266.0</span>
<span class="go">    branch_time_in_parent:  60266.0</span>
<span class="go">    cmor_version:           3.5.0</span>
<span class="go">    ...                     ...</span>
<span class="go">    table_id:               Amon</span>
<span class="go">    table_info:             Creation Date:(30 April 2019) MD5:cc2ae51c23960ce...</span>
<span class="go">    title:                  KIOST-ESM output prepared for CMIP6</span>
<span class="go">    tracking_id:            hdl:21.14100/7640f386-9b1b-4803-a489-ab4f524b9eba</span>
<span class="go">    variable_id:            vas</span>
<span class="go">    variant_label:          r1i1p1f1</span>
</pre></div>
</div>
<p>From this point we are dealing with a single specific Xarray Dataset
object, meaning all standard xarray methods can be applied. For help
with using Xarray datasets, see the xarray documentation at
<a class="reference external" href="https://docs.xarray.dev/en/stable/">https://docs.xarray.dev/en/stable/</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inspiration.html" class="btn btn-neutral float-left" title="Inspiration for DataPoint" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cloud_formats.html" class="btn btn-neutral float-right" title="DataPoint’s Cloud Product Handler" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2024, Centre of Environmental Data Analysis Developers,Scientific and Technical Facilities Council (STFC),UK Research and Innovation (UKRI). BSD 2-Clause License. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>